<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa's Gift Selector</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #f7f4f3;
            background-image: url('https://images.unsplash.com/photo-1576835702727-27f775b4f9e8');
            background-size: cover;
            color: #333;
            text-align: center;
            padding: 20px;
        }

        h1 {
            font-size: 3rem;
            color: #d6324a;
            text-shadow: 2px 2px 5px #000;
            animation: bounce 1.5s;
        }

        p {
            font-size: 1.2rem;
        }

        .gift-options {
            margin: 20px auto;
            max-width: 400px;
            text-align: left;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .gift-options label {
            display: block;
            margin: 10px 0;
            font-size: 1.2rem;
        }

        button {
            font-size: 1.2rem;
            color: white;
            background-color: #d6324a;
            border: none;
            padding: 10px 20px;
            margin-top: 20px;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
        }

        button:hover {
            transform: scale(1.1);
            background-color: #a8202d;
        }

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-20px);
            }

            60% {
                transform: translateY(-10px);
            }
        }

        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            display: none;
            text-align: center;
            min-width: 15em;
        }

        .popup h2 {
            color: #d6324a;
        }

        .popup button {
            margin-top: 10px;
        }

        .proceed-popup {
            display: none;
        }

        footer {
            margin-top: 30px;
            font-size: 0.8rem;
        }
    </style>
    <script>
        let disabled = [];
        function toggleSelectAll() {
            const selectAllCheckbox = document.getElementById('selectAll');
            const checkboxes = document.querySelectorAll('input[name="gift"]');
            checkboxes.forEach((checkbox) => {
                checkbox.checked = selectAllCheckbox.checked;
            });
        }
        function handleSubmit(event) {
            event.preventDefault();

            const checkboxes = document.querySelectorAll('input[name="gift"]:checked');
            const popup = document.querySelector('.popup');
            const popupMessage = document.querySelector('.popup-message');
            const proceedButton = document.querySelector('.proceed-button');
            const closeButton = document.querySelector('.close-button');

            if (checkboxes.length > 1) {
                popupMessage.textContent = checkboxes.length === 4 ? "Wow! You're the BIGGEST Selfish Elf! Choose ONE!" : "Too selfish! Choose only one gift!";
                proceedButton.style.display = 'none';
                popup.style.display = 'block';
            } else if (checkboxes.length === 1) {
                const selectedGift = checkboxes[checkboxes.length - 1];
                // Check if the selected gift is not already in the disabled list and if 3 items are disabled
                if (!disabled.includes(selectedGift.value) && disabled.length === 3) {
                    popupMessage.innerHTML = `${selectedGift.value} is Rs 1099.99. Please Proceed to Checkout!`;
                    proceedButton.style.display = 'inline-block';
                    closeButton.style.display = 'none';
                    popup.style.display = 'block';
                } else {
                    // Add the selected gift to the disabled list
                    disabled.push(selectedGift.value);
                    selectedGift.disabled = true;
                    selectedGift.checked = false;
                    popupMessage.innerHTML = `${selectedGift.value} is out of stock! Choose another gift.<br> Anyway it does't suits you`;
                    proceedButton.style.display = 'none';
                    popup.style.display = 'block';
                }
            } else {
                popupMessage.textContent = "You didn't choose any gift! Are you even in the holiday spirit?";
                proceedButton.style.display = 'none';

                popup.style.display = 'block';
            }
        }


        function closePopup() {
            document.querySelector('.popup').style.display = 'none';
        }

        function proceed() {
            const popup = document.querySelector('.popup');
            const popupMessage = document.querySelector('.popup-message');

            popupMessage.innerHTML =
                `Just kidding! you dont have to do a payment, your santa did for you <br> But first, drink the water from the box.<br>
                    Here's your place where your santa kept your surprise:<br>
            "Place where things go white and come out in color. It starts with 'P'".<br>
            "Your surprise might be waiting for you".<br>
            `
                ;
            popup.style.display = 'block';
            closeButton.style.display = 'inline-block'
            document.querySelector('.proceed-button').style.display = 'none';
        }
    </script>
</head>

<body>
    <h1>üéÖ Santa's Gift Selector üéÅ</h1>
    <p>Choose your gifts (More than one)</p>
    <p>YOU can decide which gifts to deliver!</p>

    <div class="gift-options">
        <label>
            <input type="checkbox" id="selectAll" onclick="toggleSelectAll()"> Select All Gifts
        </label>
        <form onsubmit="handleSubmit(event)">
            <label>
                <input type="checkbox" name="gift" value="Reindeer Antlers"> A pair of sparkly reindeer headphones
                (perfect
                for Zoom meetings!)
            </label>
            <label>
                <input type="checkbox" name="gift" value="Chocolate Fountain"> A portable chocolate fountain

            </label>
            <label>
                <input type="checkbox" name="gift" value="Ugly Sweater"> An ultra-ugly Christmas sweater (it's SO bad,
                it's good!)
            </label>
            <label>
                <input type="checkbox" name="gift" value="Lifetime Cookies"> A lifetime supply of Santa's secret cookies
                (if you dare...)
            </label>
            <button type="submit">Deliver the Magic! üöÄ</button>
        </form>
    </div>

    <div class="popup">
        <h2>üéÑ Santa's Verdict üéÑ</h2>
        <p class="popup-message"></p>
        <button class="close-button" onclick="closePopup()">Close</button>
        <button class="proceed-button" onclick="proceed()">Proceed</button>
    </div>

    <footer>
        Designed by Santa's elves with extra jingle bells üé∂
    </footer>
</body>

</html>
